(this["webpackJsonpreddit-dashboard"]=this["webpackJsonpreddit-dashboard"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n.p+"static/media/comment.fdd056a7.svg"},function(e,t,n){e.exports=n.p+"static/media/delete.82862f89.svg"},,function(e,t,n){e.exports=n(22)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(5),o=n.n(r),s=(n(15),n(16),n(3)),m=n(1),i=n.n(m),l=n(9),u=n(6),d=n(2),f=Object(a.createContext)([]),p=function(){return Object(a.useContext)(f)},h=function(e){var t=e.children,n=Object(a.useState)([]),r=Object(d.a)(n,2),o=r[0],m=r[1],p=Object(a.useState)([]),h=Object(d.a)(p,2),v=h[0],E=h[1];Object(a.useEffect)((function(){g()}),[]);var g=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://gist.githubusercontent.com/mkg0/6a4dca9067ad7a296204e7c9ecd977b0/raw/0b1ec16580ea1e970a73f5c85563c22631be7ad7/unpopularopinion-dataset.json").then((function(e){return e.json()})).then((function(e){var t=e.comments,n=Object(l.a)(e,["comments"]);m(t),E(n)})).catch((function(e){return console.log("catch error",e)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(f.Provider,{value:{post:v,comments:o,deleteComment:function(e){return m(o.map((function(t){return t.id===e?Object(s.a)(Object(s.a)({},t),{},{isDeleted:!0,body:"[This comment has been deleted]",author:"[deleted]",created_utc:(new Date).getTime()}):t})))}}},t)},v=(n(18),function(e){return e>999?"".concat(Math.floor(e/100)/10,"k"):e}),E=function(e){var t=e.subreddit,n=e.upvote,a=e.title;return c.a.createElement("header",{className:"post-header"},c.a.createElement("a",{href:"https://reddit.com/".concat(t),className:"sub-reddit"},t),c.a.createElement("div",{className:"post-info"},c.a.createElement("span",{className:"upvotes"},v(n)),c.a.createElement("h1",{className:"head-title"},a)))},g=(n(19),function(e){var t=document.createElement("div");return e&&"string"===typeof e&&(e=(e=e.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),t.innerHTML=e,e=t.textContent,t.textContent=""),e}),b=n(7),N=n.n(b),w=function(e){var t=e.commentCount,n=e.bodyHTML;return c.a.createElement("div",{className:"post-content"},c.a.createElement("div",{className:"post-text",dangerouslySetInnerHTML:{__html:g(n)}}),c.a.createElement("div",{className:"comment-info"},c.a.createElement("img",{className:"comment-img",src:N.a,alt:"comment"}),c.a.createElement("span",{className:"comment-count"},t," ",c.a.createElement("span",null,"Comments"))))},j=(n(20),n(8)),x=n.n(j),y=(n(21),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=t.getTime()-e.getTime(),a=Math.floor(n/31536e6);if(a>0)return"".concat(a," years ago");var c=Math.floor(n/2592e6);if(c>0)return"".concat(c," months ago");var r=Math.floor(n/864e5);if(r>0)return"".concat(r," days ago");var o=Math.floor(n/36e5);if(o>0)return"".concat(o," hours ago");var s=Math.floor(n/6e4);return s>0?"".concat(s," minutes ago"):"< 1 minute ago"}),O=function(e){var t=e.id,n=e.author,a=e.ups,r=e.downs,o=e.created_utc,s=e.isDeleted,m=e.body,i=p(),l=i.comments,u=i.deleteComment,d=l.filter((function(e){return e.parent_id===t})),f=new Date(1e3*o),h=y(f);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"comment-content",id:t},c.a.createElement("div",{className:"author-details"},s?c.a.createElement("a",{target:"#",className:"author removed"},n):c.a.createElement("a",{href:"https://reddit.com/user/".concat(n),className:"author"},n),c.a.createElement("span",{className:"upvotes"},v(a-r)," points")," -"," ",c.a.createElement("span",{className:"time-ago"},h),s?null:c.a.createElement("span",{className:"delete",onClick:function(){return u(t)}},c.a.createElement("img",{className:"icon",src:x.a,alt:"delete"}))),c.a.createElement("div",{className:"comment-content-details"},c.a.createElement("span",null,m))),c.a.createElement(M,{comments:d,className:"tree"}))},M=function(e){var t=e.comments,n=void 0===t?[]:t,a=e.className;return c.a.createElement("div",{className:"comment-group ".concat(a||"")},n.map((function(e,t){return c.a.createElement(O,Object.assign({key:t},e))})))};var k=function(){var e=p(),t=e.comments,n=e.post,a=t.filter((function(e){return!e.parent_id}));return c.a.createElement("div",{className:"body"},c.a.createElement(E,{subreddit:n.subreddit_name_prefixed,title:n.title,upvote:n.ups}),c.a.createElement("div",{className:"post-container"},c.a.createElement("section",null,c.a.createElement(w,{bodyHTML:n.selftext_html,commentCount:t.length})),c.a.createElement("section",{className:"comments-container"},c.a.createElement(M,{comments:a}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(h,null,c.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.f48a0911.chunk.js.map